<header>
  <div class="content-wrapper" >
      <section class="content" >
          <div class="container-fluid">
          <h2 class="translate"> اضافة نظام اجازة </h2>
              <div class="buttons">
                  <div class="button" >
                      <i class="bi bi-bookmark-x "></i>
                      <input type="button" routerLink="/hr/vacation-rules-list" class="translate"  data-en="Exit"value="خروج">
                  </div>
                  <div class="button">
                      <i class="bi bi-file-earmark-medical  fa-lg"></i>
                      <input type="button" [disabled]="!py_vacation_Rule.valid" value="حفظ" class="translate" data-en="Save"  (click)="Save()" value="حفظ">
                  </div>
              </div>
          </div>

      </section>
  </div>
</header>
<br/>

<div class="content-wrapper" style="min-height: 1233.2px;">
    <!-- Content Header (Page header) -->

    <section class="content">
      <div class="container-fluid">

        <div class="row" *ngIf="showspinner">
          <hr/>
          <mat-progress-bar  mode="indeterminate"></mat-progress-bar>
        </div>



        <div class="row">
          <div class="col-12">

            <!-- Main content -->
            <div class="invoice p-3 mb-3">

              <form [formGroup]="py_vacation_Rule" (keydown.enter)="$event.preventDefault()">
                <input type="number" style="display: none;" class="form-control" formControlName="n_DataAreaID">
                <input type="number" style="display: none;" class="form-control" formControlName="n_UserAdd">
                <input type="number" style="display: none;" class="form-control" formControlName="d_UserAddDate">
                <input type="number" style="display: none;" class="form-control" formControlName="n_current_branch">
                <input type="number" style="display: none;" class="form-control" formControlName="n_current_company">
                <input type="number" style="display: none;" class="form-control" formControlName="n_current_year">

                <div class="card-body" >
                    <div class="row">

                        <section class="col-lg-7">
                          <div class="card p-3">
                            <div class="row">
                              <section class="col col-6" *ngIf="this.ruleNo > 0">
                                <div class="form-group">
                                    <label class="label translate" data-en="Deservedly code:">كود المسلسل:</label>
                                    <input type="number" class="form-control w-50" formControlName="n_rule_no" readonly>
                                </div>
                              </section>
                            </div>

                            <div class="row">
                              <section class="col col-6">
                                <div class="form-group">
                                    <label class="label translate" data-en="Description:">الوصف:<span style="color: red;">*</span> </label>
                                    <input type="text" class="form-control" formControlName="s_rule_desc" />
                                </div>
                              </section>

                              <section class="col col-6">
                                <div class="form-group">
                                    <label class="label translate" data-en="Description English:">الوصف انجليزي:</label>
                                    <input type="text" class="form-control" formControlName="s_rule_desc_eng" />
                                </div>
                              </section>
                            </div>
                          </div>
                        </section>
                      </div>

                      <div class="row">
                        <section class="col-lg-8">
                          <div class="card p-3">
                            <div class="row">
                              <section class="col-lg-12">
                                <div class="row">
                                  <div class="col-12 table-responsive">
                                    <table  id="tblMultiTransDetails" class="custom-table table-striped" formArrayName="py_vacation_rules_details">
                                      <thead>
                                        <tr>
                                          <th scope="col" class="text-center translate" data-en="#" style="min-width: 25px" >#</th>
                                          <th scope="col" class="text-center translate" data-en="Source Code" style="min-width: 50px">رقم الاجازة</th>
                                          <th scope="col" class="text-center translate" data-en="Source Code" style="min-width: 100px">الاسم</th>
                                          <th scope="col" class="text-center translate" data-en="Source Code" style="min-width: 50px">الرصيد</th>
                                          <th scope="col" class="text-center" style="min-width: 45px"></th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr [formGroupName]="i" *ngFor="let item of py_vacation_rules_details.controls; let i = index;">

                                          <td scope="row" class="text-center" style="min-width: 25px;">{{ i + 1 }}</td>

                                          <td style="min-width: 50px;">
                                            <input type="number" class="form-control" formControlName="n_vacation_type" readonly />
                                          </td>

                                          <td style="min-width: 100px;">
                                            <input type="text" class="form-control" formControlName="s_vacation_type_name" readonly />
                                          </td>

                                          <td style="min-width: 50px;">
                                            <input type="number" class="form-control" formControlName="n_year_balance" />
                                          </td>

                                          <td style="min-width: 45px;">
                                            <i (click)="RemoveVacationRuleRow(i)" class="bi bi-x-square text-center" tabindex="-1"></i>
                                          </td>

                                        </tr>
                                      </tbody>
                                    </table>
                                  </div>
                                  <div class="row">
                                    <div class="col-md-12 text-center">
                                      <div class="button-plus">
                                        <i class="bi bi-plus"></i>
                                        <a (click)="Add_py_vacation_rules_details_Row()" class="translate" data-en="Add">أضافة</a>
                                     </div>
                                    </div>
                                  </div>
                                </div>
                              </section>
                            </div>
                          </div>
                        </section>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
