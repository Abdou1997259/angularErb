<header>
  <div class="content-wrapper">
      <section class="content">
          <div class="container-fluid">
              <h2 class="translate" data-en="Deservedly">الاستحقاقات</h2>
              <div class="buttons">
                  <div class="button" *ngIf="cannew">
                      <i class="bi bi-file-earmark-medical  fa-lg"></i>
                      <a routerLink="/hr/deservedlyadd" class="translatedata" data-en="New">جديد</a>
                  </div>
              </div>
              <div>
              </div>
          </div>
      </section>
  </div>
</header>


<div class="content-wrapper" style="    margin-top: 140px;">
  <section class="content">
      <div class="container-fluid">
          <div class="row" *ngIf="showspinner">
              <hr />
              <mat-progress-bar mode="indeterminate"></mat-progress-bar>
          </div>

          <div class="custom-table-responsive">
              <table class="custom-table-add">

                  <thead>
                      <tr>
                          <td colspan="10" width="100%">
                              <div>
                                  <div class="s-icons">
                                      <i class="bi bi-pencil-fill" style="color:#343A40 ;"></i>
                                      <i class="bi bi-file-earmark-excel"></i>
                                      <i class="bi bi-info"></i>
                                  </div>
                                  <h2 class="translate" data-en="Deservedly">الاستحقاقات</h2>
                                  <div class="f-icons">
                                      <i class="bi bi-layout-text-window-reverse"></i>
                                      <i class="bi bi-microsoft"></i>
                                  </div>
                              </div>
                          </td>
                      </tr>

                      <tr>
                          <th><input type="text" class="form-control text-center" (ngModelChange)="Search();" [(ngModel)]="docNo"></th>
                          <th><input type="text" class="form-control text-center" (ngModelChange)="Search();" [(ngModel)]="deservedlyNameAr"></th>
                          <th><input type="text" class="form-control text-center" (ngModelChange)="Search();" [(ngModel)]="deservedlyNameEn"></th>
                          <th><input type="text" class="form-control text-center" (ngModelChange)="Search();" [(ngModel)]="discountFrom"></th>
                          <th><input type="text" class="form-control text-center" (ngModelChange)="Search();" [(ngModel)]="calcType"></th>
                          <th><input type="text" class="form-control text-center" (ngModelChange)="Search();" [(ngModel)]="payType"></th>
                          <th><input type="text" class="form-control text-center" (ngModelChange)="Search();" [(ngModel)]="category"></th>
                          <th></th>
                          <th *ngIf="canedit"></th>
                          <th *ngIf="candelete"></th>
                          <th></th>
                      </tr>

                      <tr>
                          <th style="text-align: center;text-align: center;" class="translate" data-en="Deservedly Code: ">كود الاستحقاق</th>
                          <th style="text-align: center;text-align: center;" class="translate"data-en="Deservedly Arabic name: ">اسم الاستحقاق عربي</th>
                          <th style="text-align: center;text-align: center;" class="translate"data-en="Deservedly English name: ">اسم الاستحقاق انجليزي</th>
                          <th style="text-align: center;text-align: center;" class="translate"data-en="Discount From: ">راتب الاحتساب</th>
                          <th style="text-align: center;text-align: center;" class="translate"data-en="Calculation Type: ">طريقة الحساب</th>
                          <th style="text-align: center;text-align: center;" class="translate"data-en="Payment Type: ">اسم الصرفية</th>
                          <th style="text-align: center;text-align: center;" class="translate"data-en="Category: ">التصنيف</th>
                          <th style="text-align: center;text-align: center;" *ngIf="canedit"></th>
                          <th style="text-align: center;text-align: center;" *ngIf="candelete"></th>
                          <th style="text-align: center;text-align: center;"></th>
                      </tr>
                  </thead>

                  <tbody>
                      <tr *ngFor="let item of DeservedlyData">
                          <td style="text-align: center;">{{item.n_doc_no}} </td>
                          <td style="text-align: center;">{{item.s_Deservedly_name}}</td>
                          <td style="text-align: center;">{{item.s_Deservedly_name_eng}} </td>
                          <td style="text-align: center;">{{item.s_discount_name}} </td>
                          <td style="text-align: center;">{{item.s_calc_name}} </td>
                          <td style="text-align: center;">{{item.s_pay_name}} </td>
                          <td style="text-align: center;">{{item.s_name}} </td>
                          <td style="text-align: center;" *ngIf="canedit"><a routerLink="/hr/deservedlyedit/{{item.n_doc_no}}" data-toggle="tooltip" data-placement="bottom" class="translatedata" data-en="Edit" title="عرض بيانات الاستحقاق">تعديل</a></td>
                          <td style="text-align: center;" *ngIf="candelete"> <a href="#" data-en="Remove" data-toggle="modal" data-target="#CancelModal" (click)="getRowID(item.n_doc_no)" class="translatedata">حذف</a></td>
                          <td style="text-align: center;"> <a href="{{ReportUrl}}PrintReport?docNo={{item.n_doc_no}}&idColName={{this.idColName}}&formID={{this.formID}}&comp={{this.comp}}&year={{this.year}}&branch={{this.branch}}&lang={{this.lang}}" data-toggle="tooltip" target="_blank" class="btn translatedata" data-en="Print">طباعة</a></td>
                      </tr>
                  </tbody>

              </table>
          </div>
      </div>
  </section>
</div>
<br /><br />


<div class="modal fade" id="CancelModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title translate" id="exampleModalLongTitle" data-en="Close">الغاء</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body translate" data-en="Are you sure to delete this employee?">
              هل انت متاكد من حذف هذا الاستحقاق؟
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary translate" data-dismiss="modal" #closebutton
                  data-en="Close">اغلاق</button>
              <button type="button" class="btn btn-primary translate" (click)="deleteRow()"
                  data-en="Remove">حذف</button>
          </div>
      </div>
  </div>
</div>
